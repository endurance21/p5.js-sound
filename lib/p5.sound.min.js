/** [p5.sound]  Version: 0.3.12 - 2020-06-13 */ 
 !function(o){var n={};function i(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=o,i.c=n,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=4)}([function(t,o,r){"use strict";(function(t){var e=r(2),n=r.n(e);t.TONE_SILENCE_VERSION_LOGGING=!0;var i=new window.AudioContext;p5.prototype.getAudioContext=function(){return i},p5.prototype.userStartAudio=function(t,e){var o=t;return t instanceof p5.Element?o=t.elt:t instanceof Array&&t[0]instanceof p5.Element&&(o=t.map(function(t){return t.elt})),n()(i,o,e)},o.a=i}).call(this,r(3))},function(t,e){t.exports={recorderProcessor:"recorder-processor",soundFileProcessor:"sound-file-processor",amplitudeProcessor:"amplitude-processor"}},function(t,e,o){var n,i,r;i=[],void 0===(r="function"==typeof(n=function(){var s=function(t,e){this._dragged=!1,this._element=t,this._bindedMove=this._moved.bind(this),this._bindedEnd=this._ended.bind(this,e),t.addEventListener("touchstart",this._bindedEnd),t.addEventListener("touchmove",this._bindedMove),t.addEventListener("touchend",this._bindedEnd),t.addEventListener("mouseup",this._bindedEnd)};function r(t){return"running"===t.state}return s.prototype._moved=function(t){this._dragged=!0},s.prototype._ended=function(t){this._dragged||function(t){var e=t.createBuffer(1,1,t.sampleRate),o=t.createBufferSource();o.buffer=e,o.connect(t.destination),o.start(0),t.resume&&t.resume()}(t),this._dragged=!1},s.prototype.dispose=function(){this._element.removeEventListener("touchstart",this._bindedEnd),this._element.removeEventListener("touchmove",this._bindedMove),this._element.removeEventListener("touchend",this._bindedEnd),this._element.removeEventListener("mouseup",this._bindedEnd),this._bindedMove=null,this._bindedEnd=null,this._element=null},function(e,t,o){var n=new Promise(function(t){!function(e,o){r(e)?o():function t(){r(e)?o():(requestAnimationFrame(t),e.resume&&e.resume())}()}(e,t)}),i=[];return function t(e,o,n){if(Array.isArray(e)||NodeList&&e instanceof NodeList)for(var i=0;i<e.length;i++)t(e[i],o,n);else if("string"==typeof e)t(document.querySelectorAll(e),o,n);else if(e.jquery&&"function"==typeof e.toArray)t(e.toArray(),o,n);else if(Element&&e instanceof Element){var r=new s(e,n);o.push(r)}}(t=t||document.body,i,e),n.then(function(){for(var t=0;t<i.length;t++)i[t].dispose();i=null,o&&o()}),n}})?n.apply(e,i):n)||(t.exports=r)},function(t,e){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(t){"object"==typeof window&&(o=window)}t.exports=o},function(t,e,o){"use strict";o.r(e);var n=o(0),r=new function(){this.input=n.a.createGain(),this.output=n.a.createGain(),this.limiter=n.a.createDynamicsCompressor(),this.limiter.threshold.value=-3,this.limiter.ratio.value=20,this.limiter.knee.value=1,this.audiocontext=n.a,this.output.disconnect(),this.input.connect(this.limiter),this.limiter.connect(this.output),this.meter=n.a.createGain(),this.fftMeter=n.a.createGain(),this.output.connect(this.meter),this.output.connect(this.fftMeter),this.output.connect(this.audiocontext.destination),this.soundArray=[],this.parts=[],this.extensions=[]};p5.prototype.getMasterVolume=function(){return r.output.gain.value},p5.prototype.masterVolume=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if("number"==typeof t){var n=r.audiocontext.currentTime,i=r.output.gain.value;r.output.gain.cancelScheduledValues(n+o),r.output.gain.linearRampToValueAtTime(i,n+o),r.output.gain.linearRampToValueAtTime(t,n+o+e)}else{if(!t)return r.output.gain;t.connect(r.output.gain)}},p5.prototype.soundOut=p5.soundOut=r,p5.soundOut._silentNode=r.audiocontext.createGain(),p5.soundOut._silentNode.gain.value=0,p5.soundOut._silentNode.connect(r.audiocontext.destination);var l=r,i=o(1),s=o.n(i);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}p5.prototype.sampleRate=function(){return l.audiocontext.sampleRate},p5.prototype.freqToMidi=function(t){var e=Math.log(t/440)/Math.log(2);return Math.round(12*e)+69};p5.prototype.midiToFreq=function(t){return 440*Math.pow(2,(t-69)/12)};p5.prototype.soundFormats=function(){l.extensions=[];for(var t=0;t<arguments.length;t++){if(arguments[t]=arguments[t].toLowerCase(),!(-1<["mp3","wav","ogg","m4a","aac"].indexOf(arguments[t])))throw arguments[t]+" is not a valid sound format!";l.extensions.push(arguments[t])}},p5.prototype.disposeSound=function(){for(var t=0;t<l.soundArray.length;t++)l.soundArray[t].dispose()},p5.prototype.registerMethod("remove",p5.prototype.disposeSound),p5.prototype._checkFileFormats=function(t){var e;if("string"==typeof t){var o=(e=t).split(".").pop();if(-1<["mp3","wav","ogg","m4a","aac"].indexOf(o)){if(!p5.prototype.isFileSupported(o))for(var n=e.split("."),i=n[n.length-1],r=0;r<l.extensions.length;r++){var s=l.extensions[r];if(p5.prototype.isFileSupported(s)){i="",2===n.length&&(i+=n[0]);for(var u=1;u<=n.length-2;u++){i+="."+n[u]}e=i+=".",e=e+=s;break}}}else for(var a=0;a<l.extensions.length;a++){var p=l.extensions[a];if(p5.prototype.isFileSupported(p)){e=e+"."+p;break}}}else if("object"===h(t))for(var c=0;c<t.length;c++){var d=t[c].split(".").pop();if(p5.prototype.isFileSupported(d)){e=t[c];break}}return e},p5.prototype._mathChain=function(t,e,o,n,i){for(var r in t.mathOps)t.mathOps[r]instanceof i&&(t.mathOps[r].dispose(),(o=r)<t.mathOps.length-1&&(n=t.mathOps[r+1]));return t.mathOps[o-1].disconnect(),t.mathOps[o-1].connect(e),e.connect(n),t.mathOps[o]=e,t},p5.Amplitude=function(t){this.bufferSize=function(t){var e=t,o=new AudioWorkletNode(l.audiocontext,s.a.soundFileProcessor);return o instanceof ScriptProcessorNode&&(e=o.bufferSize),o.disconnect(),o=null,e}(2048),this.audiocontext=l.audiocontext,this._workletNode=new AudioWorkletNode(this.audiocontext,s.a.amplitudeProcessor,{outputChannelCount:[1],parameterData:{smoothing:t||0},processorOptions:{normalize:!1,smoothing:t||0,numInputChannels:2,bufferSize:this.bufferSize}}),this._workletNode.port.onmessage=function(t){"amplitude"===t.data.name&&(this.volume=t.data.volume,this.volNorm=t.data.volNorm,this.stereoVol=t.data.stereoVol,this.stereoVolNorm=t.data.stereoVolNorm)}.bind(this),this.input=this._workletNode,this.output=this.audiocontext.createGain(),this.volume=0,this.volNorm=0,this.stereoVol=[0,0],this.stereoVolNorm=[0,0],this.normalize=!1,this._workletNode.connect(this.output),this.output.gain.value=0,this.output.connect(this.audiocontext.destination),l.meter.connect(this._workletNode),l.soundArray.push(this)},p5.Amplitude.prototype.setInput=function(t,e){l.meter.disconnect(),e&&(this._workletNode.parameters.get("smoothing").value=e),null==t?l.meter.connect(this._workletNode):t instanceof p5.Signal?t.output.connect(this._workletNode):t?(t.connect(this._workletNode),this._workletNode.disconnect(),this._workletNode.connect(this.output)):l.meter.connect(this._workletNode)},p5.Amplitude.prototype.connect=function(t){t?t.hasOwnProperty("input")?this.output.connect(t.input):this.output.connect(t):this.output.connect(this.panner.connect(l.input))},p5.Amplitude.prototype.disconnect=function(){this.output&&this.output.disconnect()},p5.Amplitude.prototype.getLevel=function(t){return void 0!==t?this.normalize?this.stereoVolNorm[t]:this.stereoVol[t]:this.normalize?this.volNorm:this.volume},p5.Amplitude.prototype.toggleNormalize=function(t){this.normalize="boolean"==typeof t?t:!this.normalize,this._workletNode.port.postMessage({name:"toggleNormalize",normalize:this.normalize})},p5.Amplitude.prototype.smooth=function(t){0<=t&&t<1&&this._workletNode.port.postMessage({name:"smoothing",smoothing:t})},p5.Amplitude.prototype.dispose=function(){var t=l.soundArray.indexOf(this);l.soundArray.splice(t,1),this.input&&(this.input.disconnect(),delete this.input),this.output&&(this.output.disconnect(),delete this.output),this._workletNode.disconnect(),delete this._workletNode}}]);
//# sourceMappingURL=p5.sound.min.js.map 